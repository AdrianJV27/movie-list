{"version":3,"file":"js/popular.de3ddc3c.js","mappings":"iMACOA,MAAM,a,SAGiBA,MAAM,kB,SAKpBA,MAAM,sBAAsBC,KAAK,S,0EAR/CC,EAAAA,EAAAA,IAWI,MAXJ,EAWI,mBAVIC,EAAAA,WAAW,KAAQC,EAAAA,EAAAA,IAAEC,EAAAA,MAAM,IAEjC,GAAWA,EAAAA,OAAOC,SAAAA,EAAAA,EAAAA,OAAlBJ,EAAAA,EAAAA,IAIM,MAJN,EAIM,gBAHFA,EAAAA,EAAAA,IAEMK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFeH,EAAAA,QAATI,K,WAAZP,EAAAA,EAAAA,IAEM,OAFwBQ,IAAKD,EAAME,GAAIX,MAAM,0CAAnD,EACIY,EAAAA,EAAAA,IAA6BC,EAAA,CAAfJ,MAAOA,GAAK,uBAD9B,WADJ,WAKAP,EAAAA,EAAAA,IAEM,MAFN,EAAqD,0D,uBAUzD,GACIY,MAAM,CACFC,UAAU,CACNC,QAAS,UACTC,UAAU,IAGlBC,OACI,MAAO,CACHC,KAAM,EACNC,OAAQ,GACRC,SAAU,IACVC,eAAgB,IAGxBC,QAAQ,CACJC,kBACA,MAAMJ,QAAeK,EAAAA,EAAAA,GAAaC,KAAKX,UAAWW,KAAKP,MACvDO,KAAKN,OAAOO,QAAQP,IAGpBI,qBACOI,OAAOC,QAAUD,OAAOE,aAAeC,SAASC,KAAKC,aAAe,KACnEP,KAAKP,aAGCO,KAAKQ,eAKvBC,WAAW,CACPC,YAAAA,EAAAA,GAEJC,MAAM,CACFtB,YAEIW,KAAKP,KACLmB,QAAQC,IAAI,OAAQb,KAAKP,OAE7BC,SACIQ,OAAOY,iBAAiB,SAAUd,KAAKe,gBAG/CC,UACIhB,KAAKQ,aAETS,UACIf,OAAOY,iBAAiB,SAAUd,KAAKe,eAE3CG,YACIhB,OAAOiB,oBAAoB,SAAUnB,KAAKe,cAC1CH,QAAQC,IAAI,cAEhBO,gBACIR,QAAQC,IAAI,mB,QCrEpB,MAAMQ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://movie-list/./src/views/MoviesList.vue","webpack://movie-list/./src/views/MoviesList.vue?3124"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n        {{movieType}}        {{page}}\r\n\r\n    <div v-if=\"movies.length\" class=\"row row-cols-4\">\r\n        <div v-for=\"movie in movies\" :key=\"movie.id\" class=\"col  px-3  d-flex justify-content-center\">\r\n            <SingleMovie :movie=\"movie\"/>\r\n        </div>\r\n    </div>\r\n    <div v-else class=\"alert alert-success\" role=\"alert\">\r\n        We have a problem with the movies. Please wait...\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport getMoviesAPI from '@/helpers/getMovies';\r\nimport SingleMovie from '@/components/SingleMovie';\r\n\r\nexport default {\r\n    props:{\r\n        movieType:{\r\n            default: 'popular',\r\n            required: true,\r\n        }\r\n    },\r\n    data(){\r\n        return {\r\n            page: 1,\r\n            movies: [],\r\n            cooldown: 5000,\r\n            lastScrollTime: 0,\r\n        }\r\n    },\r\n    methods:{\r\n        async getMovies(){\r\n        const movies = await getMoviesAPI(this.movieType, this.page)\r\n        this.movies.push(...movies);\r\n        // console.log(this.movies);\r\n        },\r\n        async handleScroll(){\r\n            if(window.scrollY + window.innerHeight >= document.body.scrollHeight - 50 ){\r\n                this.page++;\r\n\r\n                // window.removeEventListener('scroll', this.handleScroll)\r\n                await this.getMovies();\r\n                // this.movies.push()\r\n            }\r\n        }\r\n    },\r\n    components:{\r\n        SingleMovie\r\n    },\r\n    watch:{\r\n        movieType(){\r\n            //this.getMovies()\r\n            this.page\r\n            console.log(\"hola\", this.page);\r\n        },\r\n        movies(){\r\n            window.addEventListener('scroll', this.handleScroll)\r\n        }\r\n    },\r\n    created(){\r\n        this.getMovies()\r\n    },\r\n    mounted(){\r\n        window.addEventListener('scroll', this.handleScroll)\r\n    },\r\n    unmounted(){\r\n        window.removeEventListener('scroll', this.handleScroll)\r\n        console.log('unmounted');\r\n    },\r\n    beforeUnmount(){\r\n        console.log('beforeUnmount');\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./MoviesList.vue?vue&type=template&id=70a6c7c6\"\nimport script from \"./MoviesList.vue?vue&type=script&lang=js\"\nexport * from \"./MoviesList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Developer\\\\Proyects\\\\Vue\\\\movie-list\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","role","_createElementBlock","$props","_toDisplayString","$data","length","_Fragment","_renderList","movie","key","id","_createVNode","_component_SingleMovie","props","movieType","default","required","data","page","movies","cooldown","lastScrollTime","methods","async","getMoviesAPI","this","push","window","scrollY","innerHeight","document","body","scrollHeight","getMovies","components","SingleMovie","watch","console","log","addEventListener","handleScroll","created","mounted","unmounted","removeEventListener","beforeUnmount","__exports__","render"],"sourceRoot":""}